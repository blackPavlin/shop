BEGIN;
CREATE TABLE addresses
(
    id          BIGINT          NOT NULL    GENERATED BY DEFAULT AS IDENTITY,
    user_id     BIGINT          NOT NULL,
    city        VARCHAR(50)     NOT NULL,
    country     VARCHAR(50)     NOT NULL,
    flat        INTEGER,
    house       INTEGER         NOT NULL,
    letter      VARCHAR(1),
    postcode    INTEGER,
    street      VARCHAR(50)     NOT NULL,

    created_at  TIMESTAMP       NOT NULL    DEFAULT (now() at time zone 'utc'),
    updated_at  TIMESTAMP       NOT NULL    DEFAULT (now() at time zone 'utc'),

    PRIMARY KEY (id),
    CONSTRAINT address_user_fk FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE
);
COMMIT;
